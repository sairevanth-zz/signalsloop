# =============================================================================
# Phase 3: Stakeholder Management & Experimentation Intelligence
# Environment Variables
# =============================================================================

# OpenAI API (Required for AI features)
# Used for: Stakeholder report generation, experiment design assistant
OPENAI_API_KEY=sk-your-openai-api-key-here

# Cron Job Authentication (Required for automated tasks)
# Generate a random secret: openssl rand -base64 32
CRON_SECRET=your-random-secret-key-here

# Supabase Configuration (Required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Site Configuration
NEXT_PUBLIC_SITE_URL=https://your-domain.com

# Email Service (Required for stakeholder reports)
# Using Resend (https://resend.com)
RESEND_API_KEY=re_your-resend-api-key-here

# Optional: Feature Flag Integration (For experimentation tracking)
# LaunchDarkly
LAUNCHDARKLY_SDK_KEY=sdk-your-key-here
LAUNCHDARKLY_API_KEY=api-your-key-here
LAUNCHDARKLY_PROJECT_KEY=your-project
LAUNCHDARKLY_ENV_KEY=production

# OR Optimizely
OPTIMIZELY_SDK_KEY=your-optimizely-sdk-key
OPTIMIZELY_API_KEY=your-optimizely-api-key

# =============================================================================
# Observability & Infrastructure
# =============================================================================

# OpenTelemetry - Distributed Tracing
# Enable in production or set to 'true' to enable in development
ENABLE_TRACING=false

# OTEL Exporter Endpoint (e.g., Datadog, Honeycomb, Jaeger)
# For Datadog: https://http-intake.logs.datadoghq.com/v1/traces
# For Honeycomb: https://api.honeycomb.io/v1/traces
# For local Jaeger: http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# OTEL Headers (for authentication with observability platforms)
# Format: {"api-key": "your-key", "x-honeycomb-team": "your-team"}
OTEL_EXPORTER_OTLP_HEADERS={}

# Structured Logging
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Pretty-print logs in production (default: false, only JSON)
# Set to 'true' for human-readable logs (useful for debugging)
PRETTY_LOGS=false

# Redis Cache (Upstash)
# Sign up at https://upstash.com and create a Redis database
# Replaces in-memory cache with persistent, distributed cache
UPSTASH_REDIS_REST_URL=https://your-redis-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token-here

# =============================================================================
# Phase 3 Features Enabled
# =============================================================================

# Stakeholder Reports: Every Monday at 9:00 AM (via vercel.json cron)
# Endpoint: POST /api/cron/send-stakeholder-reports
# Auth: Bearer $CRON_SECRET

# AI Experiment Design: Available at /api/experiments/design
# AI Report Generation: Available at /api/stakeholders/reports/generate
